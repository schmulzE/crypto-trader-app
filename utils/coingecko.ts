const API_URL = "https://api.coingecko.com/api/v3"

export async function getTopCoins(limit = 100) {
  const response = await fetch(
    `${API_URL}/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=${limit}&page=1&sparkline=false`,
  )
  if (!response.ok) {
    throw new Error("Failed to fetch top coins")
  }
  return response.json()
}

export function simulatePriceChange(price: number) {
  const changePercent = (Math.random() - 0.5) * 0.02 // -1% to 1% change
  return price * (1 + changePercent)
}


// const memeCoins = [
//   {
//     id: 'binance-staked-sol',
//     symbol: 'bnsol',
//     name: 'Binance Staked SOL',
//     image: 'https://coin-images.coingecko.com/coins/images/40132/large/bnsol.png?1725968367',
//     current_price: 211.75,
//     market_cap: 1644786347,
//     market_cap_rank: 67,
//     fully_diluted_valuation: 1644786347,
//     total_volume: 18203064,
//     high_24h: 226.44,
//     low_24h: 197.31,
//     price_change_24h: 10.13,
//     price_change_percentage_24h: 5.02635,
//     market_cap_change_24h: 71744763,
//     market_cap_change_percentage_24h: 4.56089,
//     circulating_supply: 7748220.481779072,
//     total_supply: 7748220.481779072,
//     max_supply: null,
//     ath: 297.96,
//     ath_change_percentage: -29.00527,
//     ath_date: '2025-01-19T11:30:53.744Z',
//     atl: 127.32,
//     atl_change_percentage: 66.14185,
//     atl_date: '2024-09-18T15:30:14.531Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:23.579Z'
//   },
//   {
//     id: 'binance-peg-weth',
//     symbol: 'weth',
//     name: 'Binance-Peg WETH',
//     image: 'https://coin-images.coingecko.com/coins/images/39580/large/weth.png?1723006716',
//     current_price: 2701.74,
//     market_cap: 1639920207,
//     market_cap_rank: 68,
//     fully_diluted_valuation: 1639920207,
//     total_volume: 146742687,
//     high_24h: 2891.76,
//     low_24h: 2537.8,
//     price_change_24h: 156.48,
//     price_change_percentage_24h: 6.14796,
//     market_cap_change_24h: 76979312,
//     market_cap_change_percentage_24h: 4.92529,
//     circulating_supply: 604999.999959841,
//     total_supply: 604999.999959841,
//     max_supply: null,
//     ath: 4098.26,
//     ath_change_percentage: -34.56969,
//     ath_date: '2024-12-06T20:27:27.286Z',
//     atl: 2171.8,
//     atl_change_percentage: 23.46925,
//     atl_date: '2024-09-06T21:02:52.910Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:24.173Z'
//   },
//   {
//     id: 'celestia',
//     symbol: 'tia',
//     name: 'Celestia',
//     image: 'https://coin-images.coingecko.com/coins/images/31967/large/tia.jpg?1696530772',
//     current_price: 3.13,
//     market_cap: 1609794410,
//     market_cap_rank: 69,
//     fully_diluted_valuation: 3444522565,
//     total_volume: 269989435,
//     high_24h: 3.5,
//     low_24h: 2.88,
//     price_change_24h: 0.247462,
//     price_change_percentage_24h: 8.59127,
//     market_cap_change_24h: 120646684,
//     market_cap_change_percentage_24h: 8.10173,
//     circulating_supply: 514295190.913926,
//     total_supply: 1100451945.205155,
//     max_supply: null,
//     ath: 20.85,
//     ath_change_percentage: -84.8815,
//     ath_date: '2024-02-10T14:30:02.495Z',
//     atl: 2.08,
//     atl_change_percentage: 51.30022,
//     atl_date: '2023-10-31T15:14:31.951Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:14.836Z'
//   },
//   {
//     id: 'lido-dao',
//     symbol: 'ldo',
//     name: 'Lido DAO',
//     image: 'https://coin-images.coingecko.com/coins/images/13573/large/Lido_DAO.png?1696513326',
//     current_price: 1.75,
//     market_cap: 1573405912,
//     market_cap_rank: 70,
//     fully_diluted_valuation: 1756158758,
//     total_volume: 560572423,
//     high_24h: 1.92,
//     low_24h: 1.54,
//     price_change_24h: 0.112103,
//     price_change_percentage_24h: 6.83814,
//     market_cap_change_24h: 93573500,
//     market_cap_change_percentage_24h: 6.32325,
//     circulating_supply: 895936033.47191,
//     total_supply: 1000000000,
//     max_supply: 1000000000,
//     ath: 7.3,
//     ath_change_percentage: -75.9255,
//     ath_date: '2021-08-20T08:35:20.158Z',
//     atl: 0.40615,
//     atl_change_percentage: 332.87718,
//     atl_date: '2022-06-18T20:55:12.035Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:18.695Z'
//   },
//   {
//     id: 'kucoin-shares',
//     symbol: 'kcs',
//     name: 'KuCoin',
//     image: 'https://coin-images.coingecko.com/coins/images/1047/large/sa9z79.png?1696502152',
//     current_price: 12.66,
//     market_cap: 1559559556,
//     market_cap_rank: 71,
//     fully_diluted_valuation: 1813838026,
//     total_volume: 255148,
//     high_24h: 13.02,
//     low_24h: 12.21,
//     price_change_24h: 0.426018,
//     price_change_percentage_24h: 3.4809,
//     market_cap_change_24h: 59056308,
//     market_cap_change_percentage_24h: 3.93577,
//     circulating_supply: 122665481.8513356,
//     total_supply: 142665481.8513356,
//     max_supply: null,
//     ath: 28.83,
//     ath_change_percentage: -56.06603,
//     ath_date: '2021-12-01T15:09:35.541Z',
//     atl: 0.342863,
//     atl_change_percentage: 3594.21998,
//     atl_date: '2019-02-07T00:00:00.000Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:18.133Z'
//   },
//   {
//     id: 'kelp-dao-restaked-eth',
//     symbol: 'rseth',
//     name: 'Kelp DAO Restaked ETH',
//     image: 'https://coin-images.coingecko.com/coins/images/33800/large/Icon___Dark.png?1702991855',
//     current_price: 2797.64,
//     market_cap: 1532415466,
//     market_cap_rank: 72,
//     fully_diluted_valuation: 1532415466,
//     total_volume: 26435876,
//     high_24h: 2984.36,
//     low_24h: 2624.43,
//     price_change_24h: 149.14,
//     price_change_percentage_24h: 5.63117,
//     market_cap_change_24h: 81365997,
//     market_cap_change_percentage_24h: 5.60739,
//     circulating_supply: 547753.6531356056,
//     total_supply: 547753.6531356056,
//     max_supply: null,
//     ath: 4216.2,
//     ath_change_percentage: -33.59122,
//     ath_date: '2024-12-06T20:31:16.142Z',
//     atl: 2069.62,
//     atl_change_percentage: 35.28683,
//     atl_date: '2024-01-23T14:25:53.609Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:17.997Z'
//   },
//   {
//     id: 'blockstack',
//     symbol: 'stx',
//     name: 'Stacks',
//     image: 'https://coin-images.coingecko.com/coins/images/2069/large/Stacks_Logo_png.png?1709979332',
//     current_price: 0.98656,
//     market_cap: 1493765635,
//     market_cap_rank: 73,
//     fully_diluted_valuation: 1493772549,
//     total_volume: 137084920,
//     high_24h: 1.073,
//     low_24h: 0.900812,
//     price_change_24h: 0.077573,
//     price_change_percentage_24h: 8.53399,
//     market_cap_change_24h: 110644299,
//     market_cap_change_percentage_24h: 7.99961,
//     circulating_supply: 1511686352.17524,
//     total_supply: 1511693348.17524,
//     max_supply: 1818000000,
//     ath: 3.86,
//     ath_change_percentage: -74.5029,
//     ath_date: '2024-04-01T12:34:58.342Z',
//     atl: 0.04559639,
//     atl_change_percentage: 2060.8945,
//     atl_date: '2020-03-13T02:29:26.415Z',
//     roi: {
//       times: 7.221333229510579,
//       currency: 'usd',
//       percentage: 722.133322951058
//     },
//     last_updated: '2025-02-04T08:36:24.112Z'
//   },
//   {
//     id: 'solv-btc',
//     symbol: 'solvbtc',
//     name: 'Solv Protocol SolvBTC',
//     image: 'https://coin-images.coingecko.com/coins/images/36800/large/solvBTC.png?1719810684',
//     current_price: 97965,
//     market_cap: 1492282627,
//     market_cap_rank: 74,
//     fully_diluted_valuation: 1492088269,
//     total_volume: 9178493,
//     high_24h: 102073,
//     low_24h: 94253,
//     price_change_24h: 2587.86,
//     price_change_percentage_24h: 2.71329,
//     market_cap_change_24h: 22515180,
//     market_cap_change_percentage_24h: 1.53189,
//     circulating_supply: 15223.36472484558,
//     total_supply: 15221.38200546965,
//     max_supply: 21000000,
//     ath: 108929,
//     ath_change_percentage: -9.87952,
//     ath_date: '2025-01-20T07:17:19.296Z',
//     atl: 49058,
//     atl_change_percentage: 100.106,
//     atl_date: '2024-08-05T06:28:45.311Z',
//     roi: null,
//     last_updated: '2025-02-04T08:36:23.478Z'
//   },
// ]
